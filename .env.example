# Required OpenRouter configuration
OPENROUTER_API_KEY=your_openrouter_api_key
OPENROUTER_MODEL=openai/gpt-4.1-mini
LLM_PROVIDER=openrouter

# Agent runtime
AGENT_MAX_STEPS=10
AGENT_EXECUTOR_ANALYSIS=on_failure
AGENT_STREAM=true
AGENT_VERBOSE=false
AGENT_LSP_ENABLED=true
AGENT_LSP_SERVER_CONFIG_PATH=.zace/runtime/lsp/servers.json
AGENT_LSP_WAIT_FOR_DIAGNOSTICS_MS=3000
AGENT_LSP_MAX_DIAGNOSTICS_PER_FILE=20
AGENT_LSP_MAX_FILES_IN_OUTPUT=5
# Bootstrap blocking applies to LSP statuses: no_active_server, failed.
# Neutral statuses (no escalation): no_applicable_files, no_changed_files, disabled.
AGENT_COMPACTION_ENABLED=true
AGENT_COMPACTION_TRIGGER_RATIO=0.8
AGENT_COMPACTION_PRESERVE_RECENT_MESSAGES=12
AGENT_COMPLETION_VALIDATION_MODE=strict
AGENT_DOOM_LOOP_THRESHOLD=3
AGENT_STAGNATION_WINDOW=3
# Optional override when model metadata lookup is unavailable.
# AGENT_CONTEXT_WINDOW_TOKENS=200000

# Command safety policy
AGENT_REQUIRE_RISKY_CONFIRMATION=true
AGENT_RISKY_CONFIRMATION_TOKEN=ZACE_APPROVE_RISKY
AGENT_APPROVAL_MEMORY_ENABLED=true
AGENT_APPROVAL_RULES_PATH=.zace/runtime/policy/approvals.json
AGENT_PENDING_ACTION_MAX_AGE_MS=3600000
AGENT_COMMAND_ARTIFACTS_DIR=.zace/runtime/logs/commands
AGENT_TOOL_OUTPUT_LIMIT_CHARS=4000
AGENT_GATE_DISALLOW_MASKING=true
AGENT_LSP_AUTO_PROVISION=true
AGENT_LSP_PROVISION_MAX_ATTEMPTS=2
AGENT_LSP_BOOTSTRAP_BLOCK_ON_FAILED=true

# Regex lists use ";;" as the separator.
# Keep allow patterns empty to disable allowlist mode.
AGENT_COMMAND_ALLOW_PATTERNS=

# Optional strict allowlist example (uncomment and tune for your workflow):
# AGENT_COMMAND_ALLOW_PATTERNS=^rg\\b;;^grep\\b;;^git\\s+status\\b;;^git\\s+diff\\b;;^bun\\s+lint(?::fix)?\\b;;^bun\\s+-e\\b;;^cat\\b;;^ls\\b;;^find\\b;;^sed\\b;;^awk\\b;;^echo\\b;;^mkdir\\b;;^touch\\b

# Starter denylist: blocks high-risk escalation and pipe-to-shell patterns.
AGENT_COMMAND_DENY_PATTERNS=\\bsudo\\b;;\\bsu\\b;;\\bcurl\\b[^\\n]*\\|\\s*(?:sh|bash|zsh|pwsh|powershell)\\b;;\\bwget\\b[^\\n]*\\|\\s*(?:sh|bash|zsh|pwsh|powershell)\\b;;\\bmkfs\\b;;\\bdd\\b;;\\bshutdown\\b;;\\breboot\\b;;\\bpoweroff\\b
